###############################################################################
# TOMCAT HOST AND SERVICE DEFINITIONS
# Generated by Ansible
# Uses ONLY real Nagios plugins - NO custom scripts
###############################################################################

# Define the Tomcat server as a host
define host {
    use                     linux-server         ; Template to inherit from
    host_name               tomcat-server        ; Unique host name
    alias                   Tomcat Application Server
    address                 127.0.0.1            ; IP address
    max_check_attempts      5                    ; Check 5 times before HARD state
    check_period            24x7                 ; Check all the time
    notification_interval   30                   ; Re-notify every 30 minutes
    notification_period     24x7                 ; Notify all the time
}

###############################################################################
# SERVICE DEFINITIONS - Using REAL Nagios plugins only
###############################################################################

# Service 1: Check Tomcat HTTP Response (uses check_http)
define service {
    use                     local-service
    host_name               tomcat-server
    service_description     Tomcat HTTP
    check_command           check_tomcat_http
    check_interval          1
    retry_interval          1
    max_check_attempts      3
    check_period            24x7
    notification_interval   30
    notification_period     24x7
}

# Service 2: Check Tomcat TCP Port (uses check_tcp)
define service {
    use                     local-service
    host_name               tomcat-server
    service_description     Tomcat TCP Port
    check_command           check_tomcat_tcp
    check_interval          1
    retry_interval          1
    max_check_attempts      3
    check_period            24x7
    notification_interval   30
    notification_period     24x7
}

# Service 3: Check PetClinic Application (uses check_http)
define service {
    use                     local-service
    host_name               tomcat-server
    service_description     PetClinic Application
    check_command           check_petclinic
    check_interval          1
    retry_interval          1
    max_check_attempts      3
    check_period            24x7
    notification_interval   30
    notification_period     24x7
}

# Service 4: Check Tomcat Manager (uses check_http)
define service {
    use                     local-service
    host_name               tomcat-server
    service_description     Tomcat Manager
    check_command           check_tomcat_manager
    check_interval          5
    retry_interval          1
    max_check_attempts      3
    check_period            24x7
    notification_interval   30
    notification_period     24x7
}
