#!/bin/bash
# Nagios check script for Tomcat

# Try to connect to Tomcat
HTTP_CODE=$(curl -s -o /dev/null -w "%{http_code}" http://localhost:{{ tomcat_port }} 2>/dev/null)

if [ "$HTTP_CODE" = "200" ]; then
    echo "OK - Tomcat is running on port {{ tomcat_port }}"
    exit 0
else
    echo "CRITICAL - Tomcat is not responding on port {{ tomcat_port }}"
    exit 2
fi
